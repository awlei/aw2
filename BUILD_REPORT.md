# AW VPN Client - æ„å»ºé—®é¢˜æ€»ç»“æŠ¥å‘Š

## é¡¹ç›®ä¿¡æ¯
- **é¡¹ç›®åç§°**: aw (åŸV2rayNG Androidå®¢æˆ·ç«¯)
- **ä»“åº“**: https://github.com/awlei/aw2
- **æŠ€æœ¯æ ˆ**: Kotlin 2.3.0, Android SDK 36
- **å½“å‰é…ç½®**: Gradle 8.3, AGP 8.1.2

## é‡åˆ°çš„æ„å»ºé—®é¢˜

### 1. Gradleç‰ˆæœ¬ä¸AGPç‰ˆæœ¬ä¸å…¼å®¹

#### é—®é¢˜è¯¦æƒ…
- **AGP 9.0.0** è¦æ±‚æœ€ä½ Gradle 9.1.0ï¼Œä½† Gradle 9.x ç‰ˆæœ¬ä¸å¯ç”¨ï¼ˆ404é”™è¯¯ï¼‰
- **AGP 8.7.0** è¦æ±‚æœ€ä½ Gradle 8.7
- **AGP 8.5.0** è¦æ±‚æœ€ä½ Gradle 8.7
- **AGP 8.1.2** è¦æ±‚æœ€ä½ Gradle 8.0

#### å°è¯•çš„ç‰ˆæœ¬ç»„åˆ
| Gradle | AGP | ç»“æœ |
|--------|-----|------|
| 9.2 | 9.0.0 | Gradle 9.2ä¸å­˜åœ¨ï¼ˆ404ï¼‰ |
| 9.1 | 9.0.0 | ä¸‹è½½åŸŸåé—®é¢˜ï¼ˆdownloads.gradle.org 404ï¼‰ |
| 8.9 | 9.0.0 | AGPéœ€è¦Gradle 9.1+ |
| 8.7 | 8.5.0 | æŒç»­å¤±è´¥ï¼ˆè§ä¸‹æ–¹ï¼‰ |
| 8.5 | 8.5.0 | AGPéœ€è¦Gradle 8.7+ |
| 8.3 | 8.1.2 | æŒç»­å¤±è´¥ |

### 2. Gradle Version Catalog (libs.versions.toml) é—®é¢˜

#### é”™è¯¯ç±»å‹
```
Unexpected symbol
```

#### é”™è¯¯ä½ç½®
æ‰€æœ‰ä½¿ç”¨ `libs.` è®¿é—®ç‰ˆæœ¬ç›®å½•çš„ä¾èµ–å£°æ˜ï¼ŒåŒ…æ‹¬ï¼š
- `libs.androidx.appcompat`
- `libs.org_mockito_mockito_inline`
- `libs.mockito_kotlin`
- `libs.desugar.jdk.libs`
ç­‰

#### å°è¯•çš„è§£å†³æ–¹æ¡ˆ
1. âœ… å¯ç”¨ `enableFeaturePreview("TYPESAFE_PROJECT_ACCESSORS")`
2. âœ… å°†åº“åä¸­çš„è¿å­—ç¬¦ `-` æ”¹ä¸ºä¸‹åˆ’çº¿ `_`
3. âœ… æ³¨é‡Šæ‰æœ‰é—®é¢˜çš„æµ‹è¯•ä¾èµ–
4. âœ… ä½¿ç”¨æœ€å°åŒ–çš„ `libs.versions.toml` æµ‹è¯•
5. âŒ é™çº§åˆ° Gradle 8.3 + AGP 8.1.2

#### æµ‹è¯•ç»“æœ
ä½¿ç”¨æœ€å°åŒ–çš„ `libs.versions.toml` æ—¶ï¼Œé”™è¯¯ä» "Unexpected symbol" å˜ä¸º "Unresolved reference"ï¼Œè¯´æ˜ï¼š
- `libs` è®¿é—®æ–¹å¼æœ¬èº«æ˜¯å·¥ä½œçš„
- é—®é¢˜å‡ºåœ¨ç‰¹å®šçš„åº“åæˆ–æ ¼å¼

### 3. å½“å‰çŠ¶æ€

#### æœ€æ–°æ„å»º
- **Build ID**: 21434629928
- **çŠ¶æ€**: completed
- **ç»“æœ**: failure
- **é…ç½®**: Gradle 8.3 + AGP 8.1.2

#### æ¨æµ‹é—®é¢˜
ç”±äºæ—¥å¿—æ–‡ä»¶ä¸‹è½½é—®é¢˜ï¼ˆå‹ç¼©æ ¼å¼ï¼‰ï¼Œæ— æ³•æŸ¥çœ‹è¯¦ç»†é”™è¯¯ã€‚ä½†åŸºäºä¹‹å‰çš„æ¨¡å¼ï¼Œæ¨æµ‹ä»ç„¶æ˜¯ï¼š
1. Version Catalog çš„åº“åè§£æé—®é¢˜
2. æˆ–è€…æ˜¯ Kotlin DSL çš„è¯­æ³•é—®é¢˜

## æ ¹æœ¬åŸå› åˆ†æ

### å¯èƒ½çš„åŸå› 

1. **Gradle Version Catalog çš„ç‰ˆæœ¬é—®é¢˜**
   - Gradle 8.3 å¯¹ Version Catalog çš„æ”¯æŒå¯èƒ½æœ‰é™
   - `libs.versions.toml` ä¸­çš„æŸäº›åº“åæ ¼å¼ä¸è¢«æ”¯æŒ

2. **Kotlin DSL çš„è¯­æ³•é™åˆ¶**
   - æŸäº›å­—ç¬¦ï¼ˆå¦‚ `-`, `.`ï¼‰åœ¨ Kotlin DSL ä¸­å¯èƒ½æœ‰ç‰¹æ®Šå«ä¹‰
   - éœ€è¦ `enableFeaturePreview("TYPESAFE_PROJECT_ACCESSORS")`

3. **é¡¹ç›®è¿ç§»ä¸å®Œæ•´**
   - ä»æ—§ç‰ˆæœ¬ Gradle/AGP è¿ç§»åˆ°æ–°ç‰ˆæœ¬æ—¶ï¼Œé…ç½®æ–‡ä»¶å¯èƒ½ä¸å…¼å®¹
   - å¯èƒ½éœ€è¦æ›´æ–° Gradle wrapper ç‰ˆæœ¬

## å»ºè®®çš„è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šå®Œå…¨ç§»é™¤ Version Catalogï¼ˆæ¨èï¼‰

**ä¼˜ç‚¹**ï¼š
- ç®€å•ç›´æ¥ï¼Œé¿å…æ‰€æœ‰ Version Catalog ç›¸å…³é—®é¢˜
- å…¼å®¹æ€§æœ€å¥½

**æ­¥éª¤**ï¼š
1. åˆ é™¤ `gradle/libs.versions.toml`
2. åœ¨ `build.gradle.kts` ä¸­ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²å®šä¹‰ä¾èµ–
3. æ›´æ–° `settings.gradle.kts`ï¼Œç§»é™¤ `enableFeaturePreview("TYPESAFE_PROJECT_ACCESSORS")`

**ç¤ºä¾‹**ï¼š
```kotlin
dependencies {
    implementation("androidx.core:core-ktx:1.17.0")
    implementation("androidx.appcompat:appcompat:1.7.1")
    implementation("com.google.android.material:material:1.13.0")
    // ... å…¶ä»–ä¾èµ–
}
```

### æ–¹æ¡ˆ2ï¼šé™çº§åˆ°æ›´æ—§çš„ç¨³å®šç‰ˆæœ¬

**å»ºè®®ç‰ˆæœ¬**ï¼š
- Gradle 8.0
- AGP 8.0.2
- Kotlin 1.9.0

**ä¼˜ç‚¹**ï¼š
- ç»è¿‡å¹¿æ³›æµ‹è¯•
- å…¼å®¹æ€§å¥½

**ç¼ºç‚¹**ï¼š
- åŠŸèƒ½è¾ƒæ—§
- å¯èƒ½éœ€è¦è°ƒæ•´å…¶ä»–é…ç½®

### æ–¹æ¡ˆ3ï¼šä½¿ç”¨ Groovy DSL

**æ­¥éª¤**ï¼š
1. å°† `build.gradle.kts` é‡å‘½åä¸º `build.gradle`
2. ä½¿ç”¨ Groovy è¯­æ³•é‡å†™æ„å»ºè„šæœ¬

**ä¼˜ç‚¹**ï¼š
- Groovy DSL å¯¹ç‰ˆæœ¬ç›®å½•çš„æ”¯æŒæ›´å¥½
- é”™è¯¯ä¿¡æ¯æ›´æ¸…æ™°

**ç¼ºç‚¹**ï¼š
- å¤±å» Kotlin DSL çš„ç±»å‹å®‰å…¨

### æ–¹æ¡ˆ4ï¼šå‚è€ƒå®˜æ–¹ç¤ºä¾‹é‡æ–°åˆå§‹åŒ–

**æ­¥éª¤**ï¼š
1. ä½¿ç”¨ Android Studio åˆ›å»ºæ–°çš„é¡¹ç›®ï¼ˆGradle 8.3 + AGP 8.1.2ï¼‰
2. å‚è€ƒ `libs.versions.toml` å’Œ `build.gradle.kts` çš„æ ¼å¼
3. é€æ­¥è¿ç§»é…ç½®

## åç»­è¡ŒåŠ¨è®¡åˆ’

### ç«‹å³è¡ŒåŠ¨ï¼ˆä¼˜å…ˆçº§é«˜ï¼‰
1. âœ… å°è¯•æ–¹æ¡ˆ1ï¼šç§»é™¤ Version Catalogï¼Œä½¿ç”¨å­—ç¬¦ä¸²ä¾èµ–
2. ğŸ“‹ å¦‚æœæ–¹æ¡ˆ1æˆåŠŸï¼Œæµ‹è¯•å®Œæ•´æ„å»ºæµç¨‹
3. ğŸ“‹ å¦‚æœæ–¹æ¡ˆ1å¤±è´¥ï¼Œå°è¯•æ–¹æ¡ˆ2ï¼šé™çº§åˆ° Gradle 8.0 + AGP 8.0.2

### çŸ­æœŸè¡ŒåŠ¨ï¼ˆä¼˜å…ˆçº§ä¸­ï¼‰
1. ğŸ“‹ æ›´æ–°é¡¹ç›®æ–‡æ¡£ï¼Œè®°å½•æ„å»ºé…ç½®è¦æ±‚
2. ğŸ“‹ æ·»åŠ æ„å»ºéªŒè¯è„šæœ¬
3. ğŸ“‹ é…ç½® GitHub Actions çš„é‡è¯•æœºåˆ¶

### é•¿æœŸè¡ŒåŠ¨ï¼ˆä¼˜å…ˆçº§ä½ï¼‰
1. ğŸ“‹ è¯„ä¼°å‡çº§åˆ°æœ€æ–° Gradle/AGP çš„å¯è¡Œæ€§
2. ğŸ“‹ ç ”ç©¶å…¶ä»– Android é¡¹ç›®çš„æ„å»ºé…ç½®
3. ğŸ“‹ ä¼˜åŒ–æ„å»ºæ€§èƒ½

## æŠ€æœ¯å€ºåŠ¡

### å·²çŸ¥é—®é¢˜
1. âŒ GitHub Actions æ„å»ºæŒç»­å¤±è´¥
2. âŒ ç¼ºå°‘æœ¬åœ°æ„å»ºéªŒè¯
3. âŒ æ–‡æ¡£ä¸å®Œæ•´

### å¾…è§£å†³
1. â³ ç¨³å®šæ„å»ºé…ç½®
2. â³ å®Œå–„æ„å»ºæ–‡æ¡£
3. â³ æ·»åŠ æ„å»ºè‡ªåŠ¨åŒ–æµ‹è¯•

## è”ç³»ä¸æ”¯æŒ

- **GitHub Issues**: https://github.com/awlei/aw2/issues
- **å®˜æ–¹æ–‡æ¡£**:
  - Gradle Version Catalog: https://docs.gradle.org/current/userguide/platforms.html
  - Android Gradle Plugin: https://developer.android.com/studio/releases/gradle-plugin
- **ç¤¾åŒºæ”¯æŒ**:
  - Stack Overflow: æœç´¢ "gradle version catalog"
  - GitHub Discussions: Gradle å’Œ Android ç¤¾åŒº

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2026-01-28
**æ„å»ºå°è¯•æ¬¡æ•°**: 15+
**ç´¯è®¡è°ƒè¯•æ—¶é—´**: çº¦3å°æ—¶
